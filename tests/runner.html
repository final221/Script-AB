<!DOCTYPE html>
<html>

<head>
    <title>Test Runner</title>
    <meta charset="UTF-8">
</head>

<body>
    <h1>Test Runner</h1>
    <div id="test-output"></div>

        <script src="../src/config/Config.js"></script>
    <script src="../src/utils/Utils.js"></script>
    <script src="../src/utils/Adapters.js"></script>
    <script src="../src/utils/network/UrlParser.js"></script>
    <script src="../src/utils/network/AdDetection.js"></script>
    <script src="../src/utils/network/MockGenerator.js"></script>
    <script src="../src/utils/network/PatternDiscovery.js"></script>
    <script src="../src/utils/player/SignatureValidator.js"></script>
    <script src="../src/utils/player/SessionManager.js"></script>
    <script src="../src/player/context/SignatureDetector.js"></script>
    <script src="../src/player/context/ContextTraverser.js"></script>
    <script src="../src/player/context/ContextValidator.js"></script>
    <script src="../src/recovery/helpers/VideoSnapshotHelper.js"></script>
    <script src="../src/recovery/helpers/RecoveryLock.js"></script>
    <script src="../src/recovery/helpers/RecoveryValidator.js"></script>
    <script src="../src/recovery/helpers/AVSyncRouter.js"></script>
    <script src="../src/recovery/retry/PlayValidator.js"></script>
    <script src="../src/recovery/retry/MicroSeekStrategy.js"></script>
    <script src="../src/recovery/retry/PlayExecutor.js"></script>
    <script src="../src/utils/_NetworkLogic.js"></script>
    <script src="../src/utils/_PlayerLogic.js"></script>
    <script src="../src/utils/Logic.js"></script>
    <script src="../src/core/DOMObserver.js"></script>
    <script src="../src/core/EventCoordinator.js"></script>
    <script src="../src/core/PlayerLifecycle.js"></script>
    <script src="../src/core/ScriptBlocker.js"></script>
    <script src="../src/health/AVSyncDetector.js"></script>
    <script src="../src/health/FrameDropDetector.js"></script>
    <script src="../src/health/HealthMonitor.js"></script>
    <script src="../src/health/StuckDetector.js"></script>
    <script src="../src/monitoring/AdAnalytics.js"></script>
    <script src="../src/monitoring/ErrorClassifier.js"></script>
    <script src="../src/monitoring/Instrumentation.js"></script>
    <script src="../src/monitoring/Logger.js"></script>
    <script src="../src/monitoring/Metrics.js"></script>
    <script src="../src/monitoring/ReportGenerator.js"></script>
    <script src="../src/monitoring/Store.js"></script>
    <script src="../src/network/AdBlocker.js"></script>
    <script src="../src/network/Diagnostics.js"></script>
    <script src="../src/network/Mocking.js"></script>
    <script src="../src/network/NetworkManager.js"></script>
    <script src="../src/network/PatternTester.js"></script>
    <script src="../src/player/PlayerContext.js"></script>
    <script src="../src/player/VideoListenerManager.js"></script>
    <script src="../src/recovery/AggressiveRecovery.js"></script>
    <script src="../src/recovery/AVSyncRecovery.js"></script>
    <script src="../src/recovery/BufferAnalyzer.js"></script>
    <script src="../src/recovery/ExperimentalRecovery.js"></script>
    <script src="../src/recovery/PlayRetryHandler.js"></script>
    <script src="../src/recovery/RecoveryConstants.js"></script>
    <script src="../src/recovery/RecoveryDiagnostics.js"></script>
    <script src="../src/recovery/RecoveryStrategy.js"></script>
    <script src="../src/recovery/RecoveryUtils.js"></script>
    <script src="../src/recovery/ResilienceOrchestrator.js"></script>
    <script src="../src/recovery/StandardRecovery.js"></script>
    <script src="../src/core/CoreOrchestrator.js"></script>

    <!-- Load and run tests -->
    <script type="module">
        // Import test framework for summary
        import { Test } from './test-framework.js';

        // Import test runner functions
        import { runHealthTests } from './health-tests.js';

        // Monitoring
        import { runLoggerTests } from './monitoring/logger-tests.js';
        import { runMetricsTests } from './monitoring/metrics-tests.js';

        // Network
        import { runAdBlockerTests } from './network/adblocker-tests.js';

        // Utils
        import { runLogicTests } from './utils/logic-tests.js';

        // Player
        import { runPlayerContextTests } from './player/player-context-tests.js';

        // Recovery
        import { runRecoveryDiagnosticsTests } from './recovery/recovery-diagnostics-tests.js';
        import { runResilienceTests } from './recovery/resilience-tests.js';

        // Run all tests in sequence and wait for completion
        await runHealthTests();

        await runLoggerTests();
        await runMetricsTests();

        await runAdBlockerTests();

        await runLogicTests();

        await runPlayerContextTests();

        await runRecoveryDiagnosticsTests();
        await runResilienceTests();

        // Signal completion
        Test.summary();
    </script>
</body>

</html>